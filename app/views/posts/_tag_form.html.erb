<%= bootstrap_form_with model: post, url: my_url, remote: true do |form| %>

  <label class="container">Public
    <%= check_box_tag(:status, :visible) %>
    <span class="checkmark"></span>
  </label>
  <label class="container">Private
    <%= check_box_tag(:status, :unvisible) %>
    <span class="checkmark"></span>
  </label>

  <p>
    <%= form.text_area :title%>
  </p>

  <p>
    <%= form.text_area :content%>
  </p>

  <p>
    <%= form.collection_select :category_id, categories, :id, :name, {class: "form-control"}%>
  </p>

  <p>
    <%= form.text_area :tags, id: "tags", label: "Tag", label_as_placeholder: true %>
  </p>


  <div class="row">
    <div class="col-sm-11">
      <p>
        <%= form.submit class: "btn btn-primary"%>
      </p>
    </div>
    <div class="col-sm-1">
      <%= form.submit 'Cancel', class: "btn btn-secondary"%>
    </div>
  </div>
<% end %>

<script>
    var tags = new Bloodhound({
        datumTokenizer: Bloodhound.tokenizers.whitespace,
        queryTokenizer: Bloodhound.tokenizers.whitespace,
        remote: {
            url: '/tags/autocomplete?query=%QUERY',
            wildcard: '%QUERY'
        }
    });
    $('#query').typeahead(null, {
        source: tags
    });
    $('#tags').tagsinput({
        typeaheadjs: [{
            minLength: 3,
            highlight: true,
        },{
            minlength: 3,
            source: tags
        }],
        freeInput: true
    });
</script>